<p>原来的Prototype支持Class，大概就是下面这样</p>
<div class="cnblogs_code"><img align="top" width="11" src="http://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" height="16" onclick="this.style.display='none'; document.getElementById('Code_Closed_Text_180518').style.display='none'; document.getElementById('Code_Open_Image_180518').style.display='inline'; document.getElementById('Code_Open_Text_180518').style.display='inline';" style="display: none;" id="Code_Closed_Image_180518" /><img align="top" width="11" src="http://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" height="16" onclick="this.style.display='none'; document.getElementById('Code_Open_Text_180518').style.display='none'; getElementById('Code_Closed_Image_180518').style.display='inline'; getElementById('Code_Closed_Text_180518').style.display='inline';" id="Code_Open_Image_180518" /><span id="Code_Closed_Text_180518" class="cnblogs_code_Collapse">Code</span><span id="Code_Open_Text_180518"><br /><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;PeriodicalExecuter&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;Class.create();&nbsp;&nbsp;&nbsp;&nbsp;<br />PeriodicalExecuter.prototype&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;initialize:&nbsp;</span><span style="color: #0000FF;">function</span><span style="color: #000000;">(callback,&nbsp;frequency)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.callback&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;callback;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.frequency&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;frequency;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.currentlyExecuting&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000FF;">false</span><span style="color: #000000;">;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.registerCallback();&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/images/dot.gif" /><img src="http://www.cnblogs.com/images/dot.gif" />.&nbsp;&nbsp;&nbsp;&nbsp;<br />}&nbsp;&nbsp;&nbsp;</span></span></div>
<p>&nbsp;</p>
<p>调用时候new PeriodicalExecuter(...)其实就是调用initialize构造方法，不能实现类的继承，1.6当中改进了Class的构造，大概介绍一下 <br />首先，create可以传参数了Class.create(parent,methods),parent可以是匿名对象或者类，methods就是子类方法，示例：</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>var test=Class.create({a:</span><span class="number">123</span><span>,b:</span><span class="number">456</span><span>,c:[</span><span class="number">1</span><span>,</span><span class="number">2</span><span>,</span><span class="number">3</span><span>],initialize:function(){}})&nbsp;&nbsp;&nbsp;</span></span> </li>
<li><span>var result=</span><span class="keyword">new</span><span> test;&nbsp;&nbsp;</span> </li>
</ol></div>
</div>
<p><br />就可以取代原来的</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>var test=Class.create();&nbsp;&nbsp;&nbsp;</span></span> </li>
<li><span>test.prototype={&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>a:</span><span class="number">123</span><span>,&nbsp;&nbsp;&nbsp;</span> </li>
<li><span>b:</span><span class="number">456</span><span>,&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>c:[</span><span class="number">1</span><span>,</span><span class="number">2</span><span>,</span><span class="number">3</span><span>],&nbsp;&nbsp;&nbsp;</span> </li>
<li><span>initialize:function(){}&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>}&nbsp;&nbsp;</span> </li>
</ol></div>
</div>
<p>这样了，这还不是重点，下面讲继承</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>var a=Class.create({initialize:function(){},test1:</span><span class="number">123</span><span>,test2:</span><span class="number">456</span><span>,check:function(){alert(</span><span class="keyword">this</span><span>.test1)}})&nbsp;&nbsp;&nbsp;</span></span> </li>
<li><span>var b=Class.create(a,{check:function(){alert(</span><span class="keyword">this</span><span>.test2)}})&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>c=</span><span class="keyword">new</span><span> b;&nbsp;&nbsp;&nbsp;</span> </li>
<li><span>c.check()&nbsp;&nbsp;</span> </li>
</ol></div>
</div>
<p>当然显示456了，因为子类覆盖父类同名方法，但是如果你还想调用父类方法呢，那好办，Prototype定义了$super关键字，但是必须作为子类方法第一个参数，就是</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>var a=Class.create({initialize:function(){},test1:</span><span class="number">123</span><span>,test2:</span><span class="number">456</span><span>,check:function(){alert(</span><span class="keyword">this</span><span>.test1)}})&nbsp;&nbsp;&nbsp;</span></span> </li>
<li><span>var b=Class.create(a,{check:function($</span><span class="keyword">super</span><span>){alert(</span><span class="keyword">this</span><span>.test2);$</span><span class="keyword">super</span><span>()}})&nbsp;&nbsp;</span> </li>
</ol></div>
</div>
<p>至此，Prototype完成了对js的Class扩展任务</p>
<p>加入了mixin方法和类的addMethods方法，比如现在可以</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>var a=Class.create({a;</span><span class="number">1</span><span>,b:</span><span class="number">2</span><span>},{c:</span><span class="number">3</span><span>,d:</span><span class="number">4</span><span>},......)&nbsp;&nbsp;</span></span> </li>
</ol></div>
</div>
<p>这些都可以被加入到类里面，当然没有继承，如果重名，后面覆盖前面，再有addMethods <br />比如</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>a=Class.create({a:</span><span class="number">1</span><span>,b:</span><span class="number">2</span><span>,initialize:function(){}})&nbsp;&nbsp;&nbsp;</span></span> </li>
<li><span>b=</span><span class="keyword">new</span><span> a&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>a.addMethods({&nbsp;&nbsp;&nbsp;</span> </li>
<li><span>test:function(){alert(</span><span class="number">123</span><span>)},&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>test2:function(){alert(</span><span class="number">456</span><span>)}&nbsp;&nbsp;&nbsp;</span> </li>
<li><span>})&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>b.test()&nbsp;&nbsp;&nbsp;</span> </li>
<li><span>b.test2()&nbsp;&nbsp;</span> </li>
</ol></div>
</div>
<p>基本相当于a.prototype扩展，但是不完全</p>
<div class="code_title">代码</div>
<div class="code_div">
<div class="dp-highlighter">
<div class="bar"></div>
<ol class="dp-j">
<li class="alt"><span><span>a=Class.create({a:</span><span class="number">1</span><span>,b:</span><span class="number">2</span><span>,initialize:function(){},test:function(){alert(</span><span class="keyword">this</span><span>.a)}})&nbsp;&nbsp;&nbsp;</span></span> </li>
<li><span>b=Class.create(a,{})&nbsp;&nbsp;&nbsp;</span> </li>
<li class="alt"><span>b.addMethods({test:function($</span><span class="keyword">super</span><span>){alert(</span><span class="keyword">this</span><span>.b);$</span><span class="keyword">super</span><span>()}})&nbsp;&nbsp;</span> </li>
</ol></div>
</div>
<p>可以支持$super的继承 <br />参考资料： <br /><a href="http://prototypejs.org/learn/class-inheritance">http://prototypejs.org/learn/class-inheritance</a> </p>
<p>&nbsp;</p>
<div class="cnblogs_code"><img align="top" width="11" src="http://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" height="16" onclick="this.style.display='none'; document.getElementById('Code_Closed_Text_180917').style.display='none'; document.getElementById('Code_Open_Image_180917').style.display='inline'; document.getElementById('Code_Open_Text_180917').style.display='inline';" style="display: none;" id="Code_Closed_Image_180917" /><img align="top" width="11" src="http://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" height="16" onclick="this.style.display='none'; document.getElementById('Code_Open_Text_180917').style.display='none'; getElementById('Code_Closed_Image_180917').style.display='inline'; getElementById('Code_Closed_Text_180917').style.display='inline';" id="Code_Open_Image_180917" /><span id="Code_Closed_Text_180917" class="cnblogs_code_Collapse">creation.js</span><span id="Code_Open_Text_180917"><br /><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;Animal&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;Class.create({<br />&nbsp;&nbsp;&nbsp;&nbsp;initialize&nbsp;:&nbsp;</span><span style="color: #0000FF;">function</span><span style="color: #000000;">(name)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.name&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;name;<br />&nbsp;&nbsp;&nbsp;&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;eat&nbsp;:&nbsp;</span><span style="color: #0000FF;">function</span><span style="color: #000000;">(food)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.say(</span><span style="color: #000000;">'</span><span style="color: #000000;">Yum!</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br />&nbsp;&nbsp;&nbsp;&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;say&nbsp;:&nbsp;</span><span style="color: #0000FF;">function</span><span style="color: #000000;">(msg)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.write(</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.name&nbsp;</span><span style="color: #000000;">+</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">'</span><span style="color: #000000;">:&nbsp;</span><span style="color: #000000;">'</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">+</span><span style="color: #000000;">&nbsp;msg&nbsp;</span><span style="color: #000000;">+</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;br&nbsp;/&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />});<br /></span></span></div>
<p>&nbsp;</p>
<div class="cnblogs_code"><img align="top" width="11" src="http://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" height="16" onclick="this.style.display='none'; document.getElementById('Code_Closed_Text_180726').style.display='none'; document.getElementById('Code_Open_Image_180726').style.display='inline'; document.getElementById('Code_Open_Text_180726').style.display='inline';" style="display: none;" id="Code_Closed_Image_180726" /><img align="top" width="11" src="http://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" height="16" onclick="this.style.display='none'; document.getElementById('Code_Open_Text_180726').style.display='none'; getElementById('Code_Closed_Image_180726').style.display='inline'; getElementById('Code_Closed_Text_180726').style.display='inline';" id="Code_Open_Image_180726" /><span id="Code_Closed_Text_180726" class="cnblogs_code_Collapse">extend.js</span><span id="Code_Open_Text_180726"><br /><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;Cat&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;Class.create(Animal,&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;initialize&nbsp;:&nbsp;</span><span style="color: #0000FF;">function</span><span style="color: #000000;">($super,&nbsp;name)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.name&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">"</span><span style="color: #000000;">extend</span><span style="color: #000000;">"</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">+</span><span style="color: #000000;">&nbsp;name;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$super(name);<br />&nbsp;&nbsp;&nbsp;&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;eat&nbsp;:&nbsp;</span><span style="color: #0000FF;">function</span><span style="color: #000000;">($super,&nbsp;food)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">if</span><span style="color: #000000;">(food&nbsp;</span><span style="color: #0000FF;">instanceof</span><span style="color: #000000;">&nbsp;Mouse)&nbsp;</span><span style="color: #0000FF;">return</span><span style="color: #000000;">&nbsp;$super(food);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF;">return</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000FF;">this</span><span style="color: #000000;">.say(</span><span style="color: #000000;">'</span><span style="color: #000000;">Yuck!&nbsp;I&nbsp;only&nbsp;eat&nbsp;mice.</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />});<br /><br /></span><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;Mouse&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;Class.create(Animal);<br /><br /></span><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;fido&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000FF;">new</span><span style="color: #000000;">&nbsp;Animal(</span><span style="color: #000000;">'</span><span style="color: #000000;">Fido</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /></span><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;tom&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000FF;">new</span><span style="color: #000000;">&nbsp;Cat(</span><span style="color: #000000;">'</span><span style="color: #000000;">Tom</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /></span><span style="color: #0000FF;">var</span><span style="color: #000000;">&nbsp;jerry&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000FF;">new</span><span style="color: #000000;">&nbsp;Mouse(</span><span style="color: #000000;">'</span><span style="color: #000000;">Jerry</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /><br />tom.say(</span><span style="color: #000000;">'</span><span style="color: #000000;">Hi</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br />jerry.eat(</span><span style="color: #000000;">'</span><span style="color: #000000;">cheese</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br />tom.eat(</span><span style="color: #000000;">'</span><span style="color: #000000;">bone</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br />tom.eat(fido);<br />tom.eat(jerry);</span></span></div>]]